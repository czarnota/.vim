cmake_minimum_required(VERSION 2.8)
project(`!p
import vim
import os
project_name = os.path.basename(vim.eval('expand("%:p:h")'))
snip.rv = project_name
`)



include_directories(include)
file(GLOB files src/*.cpp)
add_library(`!p snip.rv = project_name` \${files})


#Unit test using gmock with gtest
file(GLOB files tests/*.cpp)
add_executable(`!p snip.rv = project_name`_test \${files})
target_link_libraries(`!p snip.rv = project_name`_test `!p snip.rv = project_name` gmock_main)
